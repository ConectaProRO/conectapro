<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Meta tags para prevenir cache -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="cache-control" content="no-cache">
    <meta name="expires" content="0">
    <meta name="pragma" content="no-cache">
    
    <title>Calculadora CUB Comercial - Sinduscon RO | ConectaPro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Script para limpar cache e for√ßar reload -->
    <script>
        // Fun√ß√£o para limpar cache e for√ßar reload
        function forceReload() {
            // Limpar cache do localStorage
            if (typeof(Storage) !== "undefined") {
                localStorage.clear();
                sessionStorage.clear();
            }
            
            // Desregistrar service worker se existir
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(function(registrations) {
                    for(let registration of registrations) {
                        registration.unregister();
                    }
                });
            }
            
            // Limpar cache do aplicativo
            if ('caches' in window) {
                caches.keys().then(function(names) {
                    for (let name of names) {
                        caches.delete(name);
                    }
                });
            }
        }
        
        // Adicionar timestamp para evitar cache
        window.pageLoadTime = Date.now();
        
        // Verificar se √© mobile e aplicar reload for√ßado se necess√°rio
        function isMobile() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }
        
        // Se for mobile e n√£o houver timestamp recente, for√ßa reload
        if (isMobile()) {
            const lastUpdate = localStorage.getItem('lastCubUpdate');
            const currentTime = Date.now();
            if (!lastUpdate || (currentTime - parseInt(lastUpdate)) > 300000) { // 5 minutos
                localStorage.setItem('lastCubUpdate', currentTime.toString());
                forceReload();
            }
        }
    </script>
    
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .gradient-commercial { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); }
        
        /* Indicador visual de atualiza√ß√£o */
        .update-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #10b981;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            z-index: 1000;
            display: none;
        }
        
        /* Bot√£o de reload manual */
        .reload-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 1000;
            display: none;
        }
        
        @media (max-width: 768px) {
            .reload-btn {
                display: block;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Indicador de atualiza√ß√£o -->
    <div class="update-indicator" id="updateIndicator">
        ‚úÖ P√°gina atualizada
    </div>
    
    <!-- Bot√£o de reload manual para mobile -->
    <button class="reload-btn" onclick="reloadPage()" title="Atualizar p√°gina">
        üîÑ
    </button>

    <!-- Header -->
    <header class="gradient-commercial text-white py-6 shadow-lg">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center">
                        <span class="text-2xl">üè¢</span>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">üè¢ CUB Comercial - Sinduscon RO</h1>
                        <p class="text-pink-100">Calculadora especializada para edif√≠cios comerciais</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="text-sm text-pink-100">√öltima atualiza√ß√£o</p>
                    <p class="font-semibold">Maio/2025</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Navega√ß√£o -->
    <div class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 py-3">
            <div class="flex items-center gap-4">
                <button onclick="window.location.href='cub-sinduscon.html'" class="flex items-center gap-2 text-gray-600 hover:text-pink-600 transition-colors">
                    ‚Üê Voltar ao Menu
                </button>
                <div class="h-4 w-px bg-gray-300"></div>
                <a href="dashboard-cub-prototipo.html" class="text-gray-600 hover:text-blue-600 transition-colors">
                    üè† CUB Residencial
                </a>
                <span class="text-pink-600 font-semibold">üè¢ CUB Comercial</span>
            </div>
        </div>
    </div>

    <!-- Filtros e Controles -->
    <div class="max-w-7xl mx-auto px-4 py-6">
        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Edif√≠cio</label>
                    <select id="tipoComercial" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-pink-500">
                        <option value="csl">CSL - Lojas e Salas</option>
                        <option value="cal">CAL - Andares Livres</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">N√∫mero de Pavimentos</label>
                    <select id="pavimentos" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-pink-500">
                        <option value="8">8 Pavimentos</option>
                        <option value="16">16 Pavimentos</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Valor</label>
                    <select id="tipoValor" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-pink-500">
                        <option value="desonerado">Desonerado</option>
                        <option value="onerado">Onerado</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">√Årea Total (m¬≤)</label>
                    <input type="number" id="area" value="500" min="1" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-pink-500">
                </div>
                <div class="flex items-end">
                    <button onclick="calcularComercial()" class="w-full bg-pink-600 text-white py-2 px-4 rounded-lg hover:bg-pink-700 transition-colors font-medium">
                        üßÆ Calcular
                    </button>
                </div>
            </div>
        </div>

        <!-- Cards de Pre√ßos Principais -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow-md p-6 card-hover">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">CUB Comercial</h3>
                    <span class="text-2xl">üè¢</span>
                </div>
                <div class="text-3xl font-bold text-pink-600" id="cubComercial">R$ 2.150,00</div>
                <p class="text-sm text-gray-500" id="tipoDescricao">CSL-8 - Desonerado</p>
                <div class="mt-4 text-xs text-gray-400">
                    Base: Sinduscon RO - Mai/2025
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6 card-hover">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">Custo Total</h3>
                    <span class="text-2xl">üí∞</span>
                </div>
                <div class="text-3xl font-bold text-green-600" id="custoTotalComercial">R$ 1.075.000</div>
                <p class="text-sm text-gray-500">para <span id="areaDisplayComercial">500</span> m¬≤</p>
                <div class="mt-4 text-xs text-gray-400">
                    Estimativa base CUB
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6 card-hover">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">Custo por Sala</h3>
                    <span class="text-2xl">üè™</span>
                </div>
                <div class="text-3xl font-bold text-blue-600" id="custoPorSala">R$ 107.500</div>
                <p class="text-sm text-gray-500" id="areaPorSala">50 m¬≤ por unidade</p>
                <div class="mt-4 text-xs text-gray-400">
                    Estimativa por unidade
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6 card-hover">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">Diferen√ßa CSL/CAL</h3>
                    <span class="text-2xl">üìä</span>
                </div>
                <div class="text-3xl font-bold text-orange-600" id="diferencaTipo">+8%</div>
                <p class="text-sm text-gray-500">CAL vs CSL</p>
                <div class="mt-4 text-xs text-gray-400">
                    Andares livres mais caros
                </div>
            </div>
        </div>

        <!-- Informa√ß√µes sobre os Tipos -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-blue-800 mb-3">üè™ CSL - Comercial Salas e Lojas</h3>
                <ul class="text-sm text-blue-700 space-y-2">
                    <li>‚Ä¢ <strong>Estrutura:</strong> Garagem + T√©rreo + Pavimentos-tipo</li>
                    <li>‚Ä¢ <strong>Layout:</strong> Divis√µes internas para salas e lojas</li>
                    <li>‚Ä¢ <strong>Uso t√≠pico:</strong> Escrit√≥rios, consult√≥rios, lojas</li>
                    <li>‚Ä¢ <strong>Flexibilidade:</strong> M√©dia (divis√≥rias fixas)</li>
                    <li>‚Ä¢ <strong>Custo:</strong> Menor que CAL</li>
                </ul>
            </div>

            <div class="bg-green-50 border border-green-200 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-green-800 mb-3">üè¢ CAL - Comercial Andares Livres</h3>
                <ul class="text-sm text-green-700 space-y-2">
                    <li>‚Ä¢ <strong>Estrutura:</strong> Garagem + T√©rreo + Pavimentos-tipo</li>
                    <li>‚Ä¢ <strong>Layout:</strong> Plantas livres sem divis√µes</li>
                    <li>‚Ä¢ <strong>Uso t√≠pico:</strong> Corporativo, coworking, grandes escrit√≥rios</li>
                    <li>‚Ä¢ <strong>Flexibilidade:</strong> Alta (layout customiz√°vel)</li>
                    <li>‚Ä¢ <strong>Custo:</strong> Maior que CSL</li>
                </ul>
            </div>
        </div>

        <!-- Tabela Comparativa -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="bg-gray-50 px-6 py-4 border-b">
                <h2 class="text-xl font-semibold text-gray-800">üìã Comparativo de Pre√ßos Comerciais</h2>
                <p class="text-sm text-gray-600">Valores CUB por tipo de edif√≠cio comercial</p>
            </div>
            
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tipo</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Pavimentos</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Desonerado (R$/m¬≤)</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Onerado (R$/m¬≤)</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Diferen√ßa</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200" id="tabelaComparativa">
                        <!-- Ser√° preenchido via JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Calculadora de Unidades -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h3 class="text-xl font-semibold text-gray-800 mb-4">üßÆ Calculadora de Unidades Comerciais</h3>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">√Årea por Unidade (m¬≤)</label>
                    <input type="number" id="areaPorUnidade" value="50" min="1" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">N√∫mero de Unidades</label>
                    <input type="number" id="numeroUnidades" value="10" min="1" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">√Årea Comum (%)</label>
                    <input type="number" id="areaComum" value="30" min="0" max="50" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                </div>
                <div class="flex items-end">
                    <button onclick="calcularUnidades()" class="w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors font-medium">
                        Calcular Unidades
                    </button>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4" id="resultadosUnidades">
                <!-- Ser√° preenchido via JavaScript -->
            </div>
        </div>

        <!-- Servi√ßos Adicionais Comerciais -->
        <div class="bg-orange-50 border border-orange-200 rounded-lg p-6 mb-6">
            <h3 class="text-lg font-semibold text-orange-800 mb-3">üèóÔ∏è Servi√ßos Adicionais para Obras Comerciais</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-semibold text-orange-700 mb-2">Sistemas Especiais:</h4>
                    <ul class="text-sm text-orange-700 space-y-1 ml-4">
                        <li>‚Ä¢ Sistema de combate a inc√™ndio</li>
                        <li>‚Ä¢ Ar-condicionado central</li>
                        <li>‚Ä¢ Sistema de automa√ß√£o predial</li>
                        <li>‚Ä¢ Elevadores (passageiros e carga)</li>
                        <li>‚Ä¢ Gerador de emerg√™ncia</li>
                        <li>‚Ä¢ Sistema de seguran√ßa (CFTV, alarme)</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-orange-700 mb-2">Acabamentos Comerciais:</h4>
                    <ul class="text-sm text-orange-700 space-y-1 ml-4">
                        <li>‚Ä¢ Fachada em ACM ou vidro</li>
                        <li>‚Ä¢ Piso elevado para cabeamento</li>
                        <li>‚Ä¢ Forro modular remov√≠vel</li>
                        <li>‚Ä¢ Divis√≥rias drywall ou eucatex</li>
                        <li>‚Ä¢ Sinaliza√ß√£o e comunica√ß√£o visual</li>
                        <li>‚Ä¢ Paisagismo e √°rea externa</li>
                    </ul>
                </div>
            </div>
            <div class="bg-orange-100 border border-orange-300 rounded-lg p-4 mt-4">
                <p class="text-sm text-orange-800">
                    <strong>üí° Dica ConectaPro:</strong> Estes servi√ßos podem representar 30-50% do custo adicional 
                    sobre o CUB base. Consulte nossos profissionais especializados em obras comerciais para 
                    or√ßamentos detalhados incluindo estes sistemas.
                </p>
            </div>
        </div>

        <!-- Disclaimer -->
        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-yellow-800 mb-2">‚ö†Ô∏è Importante - Obras Comerciais</h3>
            <ul class="text-sm text-yellow-700 space-y-1">
                <li>‚Ä¢ Valores baseados no CUB Sinduscon-RO para edif√≠cios comerciais</li>
                <li>‚Ä¢ Obras comerciais t√™m complexidade maior que residenciais</li>
                <li>‚Ä¢ Exigem projetos especializados (inc√™ndio, acessibilidade, etc.)</li>
                <li>‚Ä¢ Necessitam aprova√ß√µes espec√≠ficas na Prefeitura e Corpo de Bombeiros</li>
                <li>‚Ä¢ ConectaPro conecta voc√™ com profissionais especializados em obras comerciais</li>
            </ul>
        </div>
    </div>

    <script>
        // Dados CUB Comercial (estimados baseados no padr√£o residencial com acr√©scimo comercial)
        const dadosCUBComercial = {
            csl: { // Comercial Salas e Lojas
                8: {
                    desonerado: 2050.00,
                    onerado: 2125.00
                },
                16: {
                    desonerado: 2150.00,
                    onerado: 2230.00
                }
            },
            cal: { // Comercial Andares Livres
                8: {
                    desonerado: 2200.00,
                    onerado: 2285.00
                },
                16: {
                    desonerado: 2320.00,
                    onerado: 2410.00
                }
            }
        };

        function calcularComercial() {
            const tipo = document.getElementById('tipoComercial').value;
            const pavimentos = parseInt(document.getElementById('pavimentos').value);
            const tipoValor = document.getElementById('tipoValor').value;
            const area = parseFloat(document.getElementById('area').value);
            
            const cubM2 = dadosCUBComercial[tipo][pavimentos][tipoValor];
            const custoTotal = cubM2 * area;
            
            // Atualizar displays
            document.getElementById('cubComercial').textContent = `R$ ${cubM2.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`;
            document.getElementById('custoTotalComercial').textContent = `R$ ${custoTotal.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`;
            document.getElementById('areaDisplayComercial').textContent = area;
            
            // Descri√ß√£o do tipo
            const tipoNome = tipo === 'csl' ? 'CSL' : 'CAL';
            const tipoDescricao = tipo === 'csl' ? 'Salas e Lojas' : 'Andares Livres';
            document.getElementById('tipoDescricao').textContent = `${tipoNome}-${pavimentos} - ${tipoDescricao} - ${tipoValor.charAt(0).toUpperCase() + tipoValor.slice(1)}`;
            
            // Custo por sala (estimativa)
            const areaPorSala = tipo === 'csl' ? 50 : 100; // CSL salas menores, CAL andares maiores
            const custoPorSala = cubM2 * areaPorSala;
            document.getElementById('custoPorSala').textContent = `R$ ${custoPorSala.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`;
            document.getElementById('areaPorSala').textContent = `${areaPorSala} m¬≤ por unidade`;
            
            // Diferen√ßa CAL vs CSL
            const cubCSL = dadosCUBComercial.csl[pavimentos][tipoValor];
            const cubCAL = dadosCUBComercial.cal[pavimentos][tipoValor];
            const diferenca = ((cubCAL - cubCSL) / cubCSL * 100).toFixed(1);
            document.getElementById('diferencaTipo').textContent = `+${diferenca}%`;
            
            atualizarTabelaComparativa();
        }

        function atualizarTabelaComparativa() {
            const tbody = document.getElementById('tabelaComparativa');
            tbody.innerHTML = '';
            
            const tipos = [
                { key: 'csl', nome: 'CSL - Salas e Lojas' },
                { key: 'cal', nome: 'CAL - Andares Livres' }
            ];
            
            tipos.forEach(tipo => {
                [8, 16].forEach(pav => {
                    const desonerado = dadosCUBComercial[tipo.key][pav].desonerado;
                    const onerado = dadosCUBComercial[tipo.key][pav].onerado;
                    const diferenca = ((onerado - desonerado) / desonerado * 100).toFixed(1);
                    
                    tbody.innerHTML += `
                        <tr class="border-b hover:bg-gray-50">
                            <td class="px-6 py-4 font-medium">${tipo.nome}</td>
                            <td class="px-6 py-4">${pav} pavimentos</td>
                            <td class="px-6 py-4 font-bold text-blue-600">R$ ${desonerado.toFixed(2)}</td>
                            <td class="px-6 py-4 font-bold text-green-600">R$ ${onerado.toFixed(2)}</td>
                            <td class="px-6 py-4 text-sm text-gray-600">+${diferenca}%</td>
                        </tr>
                    `;
                });
            });
        }

        function calcularUnidades() {
            const areaPorUnidade = parseFloat(document.getElementById('areaPorUnidade').value);
            const numeroUnidades = parseInt(document.getElementById('numeroUnidades').value);
            const percentualComum = parseFloat(document.getElementById('areaComum').value);
            
            const areaPrivativa = areaPorUnidade * numeroUnidades;
            const areaComumTotal = areaPrivativa * (percentualComum / 100);
            const areaTotal = areaPrivativa + areaComumTotal;
            
            // Pegar valores atuais
            const tipo = document.getElementById('tipoComercial').value;
            const pavimentos = parseInt(document.getElementById('pavimentos').value);
            const tipoValor = document.getElementById('tipoValor').value;
            const cubM2 = dadosCUBComercial[tipo][pavimentos][tipoValor];
            
            const custoTotal = areaTotal * cubM2;
            const custoPorUnidade = custoTotal / numeroUnidades;
            
            document.getElementById('resultadosUnidades').innerHTML = `
                <div class="bg-blue-50 rounded-lg p-4">
                    <h4 class="font-semibold text-blue-800">√Årea Total</h4>
                    <p class="text-2xl font-bold text-blue-600">${areaTotal.toFixed(0)} m¬≤</p>
                    <p class="text-sm text-blue-600">${areaPrivativa}m¬≤ privativa + ${areaComumTotal.toFixed(0)}m¬≤ comum</p>
                </div>
                <div class="bg-green-50 rounded-lg p-4">
                    <h4 class="font-semibold text-green-800">Custo Total</h4>
                    <p class="text-2xl font-bold text-green-600">R$ ${custoTotal.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</p>
                    <p class="text-sm text-green-600">Para ${numeroUnidades} unidades</p>
                </div>
                <div class="bg-purple-50 rounded-lg p-4">
                    <h4 class="font-semibold text-purple-800">Custo por Unidade</h4>
                    <p class="text-2xl font-bold text-purple-600">R$ ${custoPorUnidade.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</p>
                    <p class="text-sm text-purple-600">Incluindo √°rea comum</p>
                </div>
            `;
        }

        // Event Listeners
        document.getElementById('tipoComercial').addEventListener('change', calcularComercial);
        document.getElementById('pavimentos').addEventListener('change', calcularComercial);
        document.getElementById('tipoValor').addEventListener('change', calcularComercial);
        document.getElementById('area').addEventListener('input', calcularComercial);
        
        document.getElementById('areaPorUnidade').addEventListener('input', calcularUnidades);
        document.getElementById('numeroUnidades').addEventListener('input', calcularUnidades);
        document.getElementById('areaComum').addEventListener('input', calcularUnidades);

        // Inicializar
        calcularComercial();
        calcularUnidades();
        
        // Fun√ß√£o para reload manual
        function reloadPage() {
            // Limpar todos os caches
            forceReload();
            
            // Mostrar indicador
            document.getElementById('updateIndicator').style.display = 'block';
            
            // Reload com cache bypass
            window.location.reload(true);
        }
        
        // Mostrar indicador de atualiza√ß√£o por 3 segundos ao carregar
        document.addEventListener('DOMContentLoaded', function() {
            const indicator = document.getElementById('updateIndicator');
            indicator.style.display = 'block';
            setTimeout(function() {
                indicator.style.display = 'none';
            }, 3000);
        });
        
        // Verificar se h√° atualiza√ß√µes a cada 30 segundos (apenas para mobile)
        if (isMobile()) {
            setInterval(function() {
                // For√ßa um pequeno reload de recursos cr√≠ticos
                const links = document.querySelectorAll('link[rel="stylesheet"]');
                links.forEach(function(link) {
                    const href = link.href;
                    link.href = href + (href.includes('?') ? '&' : '?') + 't=' + Date.now();
                });
            }, 30000);
        }
    </script>
</body>
</html> 